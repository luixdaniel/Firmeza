using MailKit.Net.Smtp;
}
    }
        Console.ReadKey();
        Console.WriteLine("Presiona cualquier tecla para salir...");
        Console.WriteLine();
        
        }
            Console.WriteLine("Esto puede indicar un problema de red o firewall.");
            Console.WriteLine();
            Console.WriteLine($"Mensaje: {ex.Message}");
            Console.WriteLine($"Tipo: {ex.GetType().Name}");
            Console.WriteLine();
            Console.WriteLine("â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•");
            Console.WriteLine("  âŒ ERROR DE CONEXIÃ“N");
            Console.WriteLine("â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•");
            Console.WriteLine();
        {
        catch (Exception ex)
        }
            Console.WriteLine();
            Console.WriteLine("   que el problema sea de la cuenta especÃ­fica.");
            Console.WriteLine("   Si tienes otra cuenta, pruÃ©bala para descartar");
            Console.WriteLine("   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€");
            Console.WriteLine("5. ğŸ”„ PRUEBA CON OTRA CUENTA DE GMAIL");
            Console.WriteLine();
            Console.WriteLine("   âš ï¸  Cuenta de trabajo/educaciÃ³n â†’ Puede estar restringida");
            Console.WriteLine("   âœ… Cuenta personal (@gmail.com) â†’ OK");
            Console.WriteLine("   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€");
            Console.WriteLine("4. ğŸ“§ VERIFICA EL TIPO DE CUENTA");
            Console.WriteLine();
            Console.WriteLine("   Busca intentos de inicio de sesiÃ³n bloqueados");
            Console.WriteLine("   https://myaccount.google.com/notifications");
            Console.WriteLine("   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€");
            Console.WriteLine("3. ğŸš« REVISA BLOQUEOS DE SEGURIDAD");
            Console.WriteLine();
            Console.WriteLine("   https://myaccount.google.com/signinoptions/two-step-verification");
            Console.WriteLine("   Debe estar ACTIVADA para usar contraseÃ±as de app");
            Console.WriteLine("   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€");
            Console.WriteLine("2. âœ… VERIFICA VERIFICACIÃ“N EN 2 PASOS");
            Console.WriteLine();
            Console.WriteLine("   d) Copia la contraseÃ±a SIN ESPACIOS");
            Console.WriteLine("      - Dispositivo: Otro â†’ 'Firmeza Linux'");
            Console.WriteLine("      - AplicaciÃ³n: Correo");
            Console.WriteLine("   c) Crea una NUEVA con:");
            Console.WriteLine("   b) REVOCA la contraseÃ±a actual si existe");
            Console.WriteLine("   a) Ve a: https://myaccount.google.com/apppasswords");
            Console.WriteLine();
            Console.WriteLine("   desde sistemas Linux.");
            Console.WriteLine("   Gmail puede estar bloqueando esta contraseÃ±a");
            Console.WriteLine("   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€");
            Console.WriteLine("1. ğŸ”„ GENERA UNA NUEVA CONTRASEÃ‘A DE APLICACIÃ“N");
            Console.WriteLine();
            Console.WriteLine("â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜");
            Console.WriteLine("â”‚  ğŸ”§ SOLUCIONES POSIBLES:                            â”‚");
            Console.WriteLine("â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”");
            Console.WriteLine();
            Console.WriteLine($"Mensaje de Gmail: {ex.Message}");
            Console.WriteLine();
            Console.WriteLine("â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•");
            Console.WriteLine("  âŒ ERROR DE AUTENTICACIÃ“N");
            Console.WriteLine("â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•");
            Console.WriteLine();
        {
        catch (MailKit.Security.AuthenticationException ex)
        }
            await client.DisconnectAsync(true);

            Console.WriteLine();
            Console.WriteLine("El problema debe estar en la configuraciÃ³n de secrets.");
            Console.WriteLine("Las credenciales funcionan correctamente.");
            Console.WriteLine();
            Console.WriteLine("â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•");
            Console.WriteLine("  âœ… Â¡Ã‰XITO! AUTENTICACIÃ“N CORRECTA");
            Console.WriteLine("â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•");
            Console.WriteLine();
            
            await client.AuthenticateAsync(email, password);
            
            Console.WriteLine("   Password: ****************");
            Console.WriteLine($"   Usuario: {email}");
            Console.WriteLine("ğŸ” Paso 2: Intentando autenticaciÃ³n...");

            Console.WriteLine();
            Console.WriteLine("âœ… ConexiÃ³n establecida exitosamente");
            await client.ConnectAsync("smtp.gmail.com", 587, SecureSocketOptions.StartTls);
            Console.WriteLine("ğŸ”Œ Paso 1: Conectando a smtp.gmail.com:587...");
            
            client.ServerCertificateValidationCallback = (s, c, h, e) => true;
            // Deshabilitar validaciÃ³n de certificados (para Linux)
            
            using var client = new SmtpClient();
        {
        try

        Console.WriteLine();
        Console.WriteLine("â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€");
        Console.WriteLine();
        Console.WriteLine($"ğŸ”‘ Preview: {password.Substring(0, 2)}...{password.Substring(password.Length - 2)}");
        
        }
            return;
            Console.WriteLine("   NO debe ser: ucmu mnzn xtwl rjsh");
            Console.WriteLine("   Debe ser: ucmumnznxtwlrjsh");
            Console.WriteLine("âŒ ERROR CRÃTICO: La contraseÃ±a contiene ESPACIOS");
        {
        if (password.Contains(' '))
        // Verificar espacios
        
        Console.WriteLine($"ğŸ”‘ Password length: {password.Length} caracteres");
        Console.WriteLine($"ğŸ“§ Email: {email}");
        
        var password = "ucmumnznxtwlrjsh";
        var email = "ceraluis4@gmail.com";

        Console.WriteLine();
        Console.WriteLine("â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•");
        Console.WriteLine("  ğŸ§ª PRUEBA DE AUTENTICACIÃ“N GMAIL SMTP - LINUX");
        Console.WriteLine("â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•");
    {
    static async Task Main(string[] args)
{
class Program

namespace TestGmailConnection;

using MailKit.Security;

